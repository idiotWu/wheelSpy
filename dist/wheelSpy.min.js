!function(e){"use strict";for(var t=0,n=["webkit","moz"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var r=(new Date).getTime(),a=Math.max(0,16.7-(r-t)),o=e.setTimeout(function(){n(r+a)},a);return t=r+a,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window),function(e,t,n,r){"use strict";var a=function(){var t=function(e){var t=/([\d\.\-]+)([^\d]+)/;if(void 0===e)return null;if(!isNaN(e))return{value:parseFloat(e),unit:""};if(!t.test(e))throw new Error("Bad value:"+e);return{value:parseFloat(RegExp.$1),unit:RegExp.$2}},n=function(t,n,r){var a=e('<div style="position: absolute;border-style: solid;visibility: hidden;"></div>');a.appendTo(t[0]).css(n,12+r);var o=parseFloat(a.css(n));return a.remove(),o},r=function(e,r,a,o){if(o=o||e.css(r),!o)throw new Error("unsupported css property: "+r);o="auto"===o?0:o;var i=t(o).unit;if("opacity"!==r&&(i=i||"px"),i===a)return parseFloat(o)+a;if("em"===a){var u=parseFloat(e.css("fontSize"))||1;return(parseFloat(e.css(r))||0)/u+"em"}var s=e.offsetParent(),l=n(s,r,i),f=n(s,r,a),c=l/f;if(isNaN(c))throw console.log(e),new Error("error get value of "+r);return parseFloat(o)*c+a},a=function(e,n,a,o){var i={};for(var u in a){var s=t(a[u]);if(s){"opacity"!==u&&(s.unit=s.unit||"px"),n[u]||(n[u]=r(e,u,s.unit));var l=t(n[u]);l.unit!==s.unit&&(n[u]=r(e,u,s.unit,n[u]),l=t(n[u]));var f=s.value-l.value,c=o*f+l.value;i[u]=c+s.unit}}return i};return a}(),o=function(e,t){for(var n=0,r=e.length;r>n;n++){var a=e[n];if(t>=a.startFrame&&t<a.endFrame)throw new Error("already has keyframe in range ["+a.startFrame+","+a.endFrame+"]!")}},i=function(t){for(var n in t)"opacity"!==n&&"number"==typeof t[n]&&(t[n]+="px"),e("body").css(n)||delete t[n];for(var r=["margin","padding"],a="border-width",o="border-radius",i=0,u=r.length;u>i;i++){var n=r[i],s=t[n];if(s){var l={},f=s.split(" ");l[n+"-top"]=f[0],l[n+"-right"]=f[1]||f[0],l[n+"-bottom"]=f[2]||f[0],l[n+"-left"]=f[3]||f[1]||f[0],e.extend(t,l),delete t[n]}}var c=t[a];if(c){var m={},p=a.split("-"),v=c.split(" ");m[p[0]+"-top-"+p[1]]=v[0],m[p[0]+"-right-"+p[1]]=v[1]||v[0],m[p[0]+"-bottom-"+p[1]]=v[2]||v[0],m[p[0]+"-left-"+p[1]]=v[3]||v[1]||v[0],e.extend(t,m),delete t[a]}var d=t[o];if(d){var h={},g=o.split("-"),y=d.split(" ");h[g[0]+"-top-left-"+g[1]]=y[0],h[g[0]+"-top-right-"+g[1]]=y[1]||y[0],h[g[0]+"-bottom-right-"+g[1]]=y[2]||y[0],h[g[0]+"-bottom-left-"+g[1]]=y[3]||y[1]||y[0],e.extend(t,h),delete t[o]}return t},u=!1,s=0,l=0,f=[],c={throttle:16,wheelSpeed:1,touchSpeed:1,keyboardSpeed:1,useTweenLite:"function"==typeof t},m=function(e){return this.target=e,this.keyframes=[],f.push(this),this};m.prototype={to:function(t,n,r,a){if(arguments.length<3)throw new Error("require at least 3 arguments");if(t>=n)throw new Error("start value should be smaller than end");var u=this.keyframes;o(u,t),l=Math.max(n,l);var s=u[u.length-1];return u.push({percent:0,startFrame:t,endFrame:n,allFrames:n-t,finalStyle:i(r),steps:a,beginStyle:s?e.extend({},s.finalStyle):{}}),this},render:function(e,n){var r=(s-e.startFrame)/e.allFrames;0>=r?r=0:r>=1&&(r=1),e.percent=r;var o=this.target,i=a(o,e.beginStyle,e.finalStyle,r);c.useTweenLite?t.to(o,n/500,{css:i,ease:Linear.easeNone}):o.css(i),"function"==typeof e.steps&&e.steps.call(o,r)},fix:function(n,r){var o=this.target;e.isEmptyObject(n.beginStyle)&&a(o,n.beginStyle,n.finalStyle,0);var i,u;r?(i=Math.max(1-n.percent,.5),u=n.finalStyle,n.percent=1):(i=Math.max(n.percent-0,.5),u=n.beginStyle,n.percent=0),c.useTweenLite?t.to(o,i,{css:u,ease:Linear.easeNone}):o.css(u),"function"==typeof n.steps&&n.steps.call(o,n.percent)}};var p=function(e,t){s=0>e?0:e>l?l:e;for(var n=s,r=0,a=f.length;a>r;r++){var o=f[r],i=o.keyframes;if(i)for(var u=0,c=i.length;c>u;u++){var m=i[u];n>=m.startFrame&&n<=m.endFrame&&o.render(m,t),n>=m.endFrame&&m.percent<1&&o.fix(m,!0),n<=m.startFrame&&m.percent>0&&o.fix(m,!1)}}};!function(t){var n,a,o,i=0,l=function(e){if(e.preventDefault(),clearTimeout(o),f.length&&!u){var r=e.originalEvent;i+=r.wheelDelta?-r.wheelDelta/120:r.detail/3;var l=e.timeStamp||(new Date).getTime();if(!a)return void(a=l);var c=l-a;if(c<t.throttle)return void(o=setTimeout(function(){var e=s+i*t.wheelSpeed*10;i=0,p(e,100)},100));a=l;var m=s+i*t.wheelSpeed*10;i=0,p(m,c),clearTimeout(n),n=setTimeout(function(){a=void 0},300)}},c="onmousewheel"in r.documentElement?"mousewheel":"DOMMouseScroll";e(r).on(c,l)}(c),function(t){var n,a,o,i,l,c=function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return t.pageY},m=function(e){f.length&&!u&&(n=o=c(e),a=i=e.timeStamp||(new Date).getTime())},v=function(e){if(clearTimeout(l),n&&!u){var r=c(e),a=o-r;o=r;var f=e.timeStamp||(new Date).getTime(),m=f-i;if(m<t.throttle)return void(l=setTimeout(function(){var e=s+a*t.touchSpeed;p(e,100)},100));i=f;var v=s+a*t.touchSpeed;p(v,m)}},d=function(){if(!u){var e=n-o,t=i-a;n=void 0,300>t&&Math.abs(e)>30&&h(e,t)}},h=function(e,n){var r=s+e*t.touchSpeed;p(r,2*n)};e(r).on("touchstart",m).on("touchmove",v).on("touchend",d)}(c),e(r).on("keydown",function(e){if(!u){var t=e.keyCode||e.which;40===t&&(e.preventDefault(),p(s+2*c.keyboardSpeed,30)),38===t&&(e.preventDefault(),p(s-2*c.keyboardSpeed,30))}});var v={};v.add=function(t){return new m(e(t))},v.stop=function(){u=!0},v.play=function(){u=!1},v.config=function(t){return function(n){e.extend(t,n)}}(c),v.scrollTo=function(){var e=[],t=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},n=function(e,n){for(var r=n/16|1,a=[],o=1;r>=o;o++)a.push(t(o,s,e,r));return a},r=function(t,r,a){var o=n(t,r),i={index:e.length,stop:!1};e.push(i);var u=o.length,s=0,l=function(){if(!i.stop)if(s!==u)p(o[s++],16),requestAnimationFrame(l);else if("function"==typeof a)return a()};l()},a=function(){for(var t=0,n=e.length;n>t;t++)e[t].stop=!0;e=[]},o=function(e,t,n){a(),e=Math.min(l,Math.max(0,e)),t=t||500;var o=e-s;if(o)r(o,t,n);else if("function"==typeof n)return n()};return o}(),v.debug=function(){return"undefined"==typeof console||"undefined"==typeof console.log?alert("Debug is disabled"):(console.log("currentFrame: "+s+"\nmaxFrame: "+l+"\nspy-on: "+!u),console.log("all spys:"),console.log(f),console.log("current config:"),void console.log(c))},n.wheelSpy=v}(jQuery,TweenLite,window,document);